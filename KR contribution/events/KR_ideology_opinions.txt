###########################
# Maintenance event for more appropriate opinions between ideologies
###########################

add_namespace = idl_for_diplo

country_event = {
	id = idl_for_diplo.1
	title = idl_for_diplo.1.t
	desc = idl_for_diplo.1.d
	picture = GFX_news_event_generic_read_write
	
	trigger = {
		OR = {
			AND = {
				has_government = totalist
				OR = {
					NOT = { has_country_flag = totalist_government }
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					NOT = { has_idea = totalist_foreign_policy }
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = syndicalist
				OR = {
					has_country_flag = totalist_government
					NOT = { has_country_flag = syndicalist_government }
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					NOT = { has_idea = syndicalist_foreign_policy }
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = radical_socialist
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					NOT = { has_country_flag = radical_socialist_government }
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					NOT = { has_idea = radical_socialist_foreign_policy }
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = social_democrat
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					NOT = { has_country_flag = social_democrat_government }
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					NOT = { has_idea = social_democrat_foreign_policy }
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = social_liberal
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					NOT = { has_country_flag = social_liberal_government }
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					NOT = { has_idea = social_liberal_foreign_policy }
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = market_liberal
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					NOT = { has_country_flag = market_liberal_government }
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					NOT = { has_idea = market_liberal_foreign_policy }
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = social_conservative
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					NOT = { has_country_flag = social_conservative_government }
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					NOT = { has_idea = social_conservative_foreign_policy }
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = authoritarian_democrat
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					NOT = { has_country_flag = authoritarian_democrat_government }
					has_country_flag = paternal_autocrat_government
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					NOT = { has_idea = authoritarian_democrat_foreign_policy }
					has_idea = paternal_autocrat_foreign_policy
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = paternal_autocrat
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					NOT = { has_country_flag = paternal_autocrat_government }
					has_country_flag = national_populist_government
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					NOT = { has_idea = paternal_autocrat_foreign_policy }
					has_idea = national_populist_foreign_policy
				}
			}
			AND = {
				has_government = national_populist
				OR = {
					has_country_flag = totalist_government
					has_country_flag = syndicalist_government
					has_country_flag = radical_socialist_government
					has_country_flag = social_democrat_government
					has_country_flag = social_liberal_government
					has_country_flag = market_liberal_government
					has_country_flag = social_conservative_government
					has_country_flag = authoritarian_democrat_government
					has_country_flag = paternal_autocrat_government
					NOT = { has_country_flag = national_populist_government }
					
					has_idea = totalist_foreign_policy
					has_idea = syndicalist_foreign_policy
					has_idea = radical_socialist_foreign_policy
					has_idea = social_democrat_foreign_policy
					has_idea = social_liberal_foreign_policy
					has_idea = market_liberal_foreign_policy
					has_idea = social_conservative_foreign_policy
					has_idea = authoritarian_democrat_foreign_policy
					has_idea = paternal_autocrat_foreign_policy
					NOT = { has_idea = national_populist_foreign_policy }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 30 # is there a monthly pulse?
		
		modifier = { # vanilla civil wars
			factor = 0.1
			NOT = { original_tag = ROOT }
		}
	}
	
	immediate = {
		hidden_effect = {
			clr_country_flag = totalist_government
			clr_country_flag = syndicalist_government
			clr_country_flag = radical_socialist_government
			clr_country_flag = social_democrat_government
			clr_country_flag = social_liberal_government
			clr_country_flag = market_liberal_government
			clr_country_flag = social_conservative_government
			clr_country_flag = authoritarian_democrat_government
			clr_country_flag = paternal_autocrat_government
			clr_country_flag = national_populist_government
			
			remove_ideas = totalist_foreign_policy
			remove_ideas = syndicalist_foreign_policy
			remove_ideas = radical_socialist_foreign_policy
			remove_ideas = social_democrat_foreign_policy
			remove_ideas = social_liberal_foreign_policy
			remove_ideas = market_liberal_foreign_policy
			remove_ideas = social_conservative_foreign_policy
			remove_ideas = authoritarian_democrat_foreign_policy
			remove_ideas = paternal_autocrat_foreign_policy
			remove_ideas = national_populist_foreign_policy
			
			every_country = {
				limit = {
					NOT = { tag = ROOT }
				}
				remove_opinion_modifier = { target = ROOT modifier = close_ideology }
				remove_opinion_modifier = { target = ROOT modifier = similar_ideology }
				remove_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { 
					remove_opinion_modifier = { target = PREV modifier = close_ideology }
					remove_opinion_modifier = { target = PREV modifier = similar_ideology }
					remove_opinion_modifier = { target = PREV modifier = opposed_ideology }
				}
			}
		}
	}
	option = {
		name = idl_for_diplo.1.a
		if = {
			limit = {
				has_government = totalist
			}
			set_country_flag = totalist_government
			add_ideas = totalist_foreign_policy
			every_country = {
				limit = {
					OR = {
						always = no
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = social_liberal
						has_government = market_liberal
						has_government = social_conservative
						has_government = authoritarian_democrat
						has_government = paternal_autocrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = syndicalist
			}
			set_country_flag = syndicalist_government
			add_ideas = syndicalist_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = radical_socialist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = market_liberal
						has_government = social_conservative
						has_government = authoritarian_democrat
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = radical_socialist
			}
			set_country_flag = radical_socialist_government
			add_ideas = radical_socialist_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = syndicalist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = social_democrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = market_liberal
						has_government = social_conservative
						has_government = authoritarian_democrat
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = social_democrat
			}
			set_country_flag = social_democrat_government
			add_ideas = social_democrat_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = social_liberal
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = market_liberal
						has_government = social_conservative
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = social_liberal
			}
			set_country_flag = social_liberal_government
			add_ideas = social_liberal_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = social_democrat
						has_government = market_liberal
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = social_conservative
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = market_liberal
			}
			set_country_flag = market_liberal_government
			add_ideas = market_liberal_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = social_liberal
						has_government = social_conservative
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = social_democrat
						has_government = authoritarian_democrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = social_conservative
			}
			set_country_flag = social_conservative_government
			add_ideas = social_conservative_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = market_liberal
						has_government = authoritarian_democrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = social_democrat
						has_government = social_liberal
						has_government = paternal_autocrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			set_country_flag = authoritarian_democrat_government
			add_ideas = authoritarian_democrat_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = social_conservative
						has_government = paternal_autocrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = market_liberal
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = paternal_autocrat
			}
			set_country_flag = paternal_autocrat_government
			add_ideas = paternal_autocrat_foreign_policy
			every_country = {
				limit = {
					OR = {
						has_government = authoritarian_democrat
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = social_conservative
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = syndicalist
						has_government = radical_socialist
						has_government = social_democrat
						has_government = social_liberal
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
		if = {
			limit = {
				has_government = national_populist
			}
			set_country_flag = national_populist_government
			add_ideas = national_populist_foreign_policy
			every_country = {
				limit = {
					OR = {
						always = no
					}
				}
				add_opinion_modifier = { target = ROOT modifier = close_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = close_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						always = no
					}
				}
				add_opinion_modifier = { target = ROOT modifier = similar_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = similar_ideology } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = totalist
						has_government = syndicalist
						has_government = radical_socialist
						has_government = social_democrat
						has_government = social_liberal
					}
				}
				add_opinion_modifier = { target = ROOT modifier = opposed_ideology }
				ROOT = { add_opinion_modifier = { target = PREV modifier = opposed_ideology } }
			}
		}
	}
}